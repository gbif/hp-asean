{% if page.include_pdf_export %}
<button id="exportPDF">Export to PDF</button>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

<script>
document.getElementById('exportPDF').addEventListener('click', function () {
    const element = document.body; // Change to specific container if needed
    const opt = {
        margin:       0.5,
        filename:     '{{ page.title | slugify }}.pdf',
        image:        { type: 'jpeg', quality: 0.98 },
        html2canvas:  { scale: 2 },
        jsPDF:        { unit: 'in', format: 'a4', orientation: 'portrait' }
    };
    html2pdf().set(opt).from(element).save();
});
</script>
{% endif %}


dashboard: 
  klass: dashboard
  #title: "Data"
  description: |
    Data mobilised by ASEAN Region
  config: 
    predicate:
      type: equals
      ### key: publishingCountry
      ### value: BN, KH, ID, LA, MY, MM, PH, SG, TH, VN
      # key: networkKey = D
      key: hostingOrganizationKey # = Derived from ACB IPT Datasets
      # key: institutionKey
      # value: 2b7c7b4f-4d4f-40d3-94de-c28b6fa054a6 = 
      value: a30d7f59-d3d4-4e89-97dc-de9cf837f591 # = Derived from ACB IPT Datasets and ACB publisher key
    charts: [iucnCounts, month, occurrenceSummary, dataQuality, country, continent, taxa, iucn, institutionCode, basisOfRecord]
    # charts: [iucn, license, basisOfRecord, year, synonyms, iucnCounts, country, continent, dwcaExtension, eventId, gadmGid, mediaType, networkKey, publisherKey, publishingCountryCode, protocol, sampleSizeUnit, samplingProtocol, typeStatus, waterBody, collectionCode, institutionCode, stateProvince, identifiedBy, recordedBy, establishmentMeans, month, preparations, datasetKey, taxa, occurrenceIssue, dataQuality, occurrenceSummary, collectionKey, institutionKey, catalogNumber]
    # By Kit Elloran : 18 July 2025
    # SEQUENCE of CHARTS at Home Page Bottom
    # Chart Legend Title at Home Page
    # dataQuality = Data richness
    # iucnCount = IUCN Global Red List Category
    # occurrenceSummary = Statistics
    # month = Month
    # taxa = 'Default' Taxa
    # country = Country or area
    # publisherKey = Publisher
    # iucn = IUCN Red List Category
